# =============================================================================
# TRADING STRATEGIST AGENTS CONFIGURATION - 3 APPROACHES
# =============================================================================
# Purpose: Multi-strategy trading analysis for convergence/divergence signals
# Models: All use DeepSeek for tool support
# Approaches: Technical, Fundamental, Momentum
# =============================================================================

agents:
  # ===========================================================================
  # TECHNICAL STRATEGIST - Price Action Focus
  # ===========================================================================
  technical:
    name: "Strategist Técnico"
    role: "Pure technical analysis - Charts and indicators"
    agent_type: "trading_strategy"
    approach: "technical"

    model:
      provider: "deepseek"
      model_id: "deepseek-chat"
      temperature: 0.6
      max_tokens: 3000

    tools:
      yfinance:
        enabled: true
        include_all: true  # All tools for comprehensive analysis

    instructions:
      language: "es"
      critical_rules:
        - "⚠️ CRÍTICO: Responde SIEMPRE y ÚNICAMENTE en ESPAÑOL"
        - "⚠️ IMPORTANTE: TODO tu análisis y conclusiones deben estar en ESPAÑOL"

      profile:
        name: "TÉCNICO"
        focus: "Price action puro"
        ignore: "Fundamentales (eso lo ven otros)"

      analysis_areas:
      aggressive_strategy:
        - "Aplica una filosofía de trading AGRESIVA: prioriza la acción rápida, busca oportunidades de corto plazo y aprovecha la volatilidad."
        - "Utiliza métricas técnicas avanzadas (EMA, MACD, Bollinger Bands, ATR, cambios de precio, volumen) para fundamentar tus decisiones."
        - "Reduce al mínimo las decisiones HOLD salvo que las señales sean contradictorias o el momentum esté agotado."
      adapt_crypto:
        - "En activos digitales, prioriza price action, momentum y volumen. Considera eventos de mercado (halving, forks, etc)."
        - "Si el activo no tiene fundamentales, ignora esa sección y enfócate en señales técnicas y de tendencia."
        trend:
          description: "Alcista/Bajista/Lateral"
          indicators: ["Moving Averages"]

        momentum:
          description: "RSI (>70 sobrecomprado, <30 sobrevendido)"
          indicators: ["RSI"]

        macd:
          description: "Cruces, divergencias"
          indicators: ["MACD"]

        volume:
          description: "Confirmación de movimientos"
          indicators: ["Volume"]

        support_resistance:
          description: "Niveles clave de precio"
          indicators: ["Historical levels"]

      recommendation_format:
        decision: ["BUY", "SELL", "HOLD"]
        confidence: "1-10 (confianza técnica)"
        entry_point: "Precio ideal de entrada"
        stop_loss: "Stop loss técnico"
        take_profit: "Objetivo de ganancia"

    output:
      format: "technical_recommendation"
      include_charts: false  # Text-based for now

  # ===========================================================================
  # FUNDAMENTAL STRATEGIST - Value Investing Focus
  # ===========================================================================
  fundamental:
    name: "Strategist Fundamental"
    role: "Value investor - Fundamental analysis"
    agent_type: "trading_strategy"
    approach: "fundamental"

    model:
      provider: "deepseek"
      model_id: "deepseek-chat"
      temperature: 0.5  # Lower temp for analytical rigor
      max_tokens: 3000

    tools:
      yfinance:
        enabled: true
        include_all: true

    instructions:
      language: "es"
      critical_rules:
        - "⚠️ CRÍTICO: Responde SIEMPRE y ÚNICAMENTE en ESPAÑOL"
        - "⚠️ IMPORTANTE: TODO tu análisis y conclusiones deben estar en ESPAÑOL"

      profile:
        name: "FUNDAMENTAL"
        philosophy: "Warren Buffett / Benjamin Graham"
        focus: "Análisis financiero profundo"

      analysis_areas:
        valuation:
          description: "P/E, P/B, P/S vs industria"
          metrics: ["PE_ratio", "PB_ratio", "PS_ratio"]

        growth:
          description: "Revenue, earnings growth"
          metrics: ["Revenue_growth", "EPS_growth"]

        profitability:
          description: "ROE, ROA, márgenes"
          metrics: ["ROE", "ROA", "Profit_margin"]

        financial_health:
          description: "Deuda, liquidez, cash flow"
          metrics: ["Debt_to_equity", "Current_ratio", "Free_cash_flow"]

        quality:
          description: "Moat, ventajas competitivas"
          factors: ["Competitive_advantages", "Market_position"]

      recommendation_format:
        decision: ["BUY", "SELL", "HOLD"]
        intrinsic_value: "Valor intrínseco vs precio actual"
        margin_of_safety: "Margen de seguridad (%)"
        business_quality: "1-10 (calidad del negocio)"
        catalysts: "Catalizadores de valor"

    output:
      format: "fundamental_recommendation"
      include_valuation_model: true

  # ===========================================================================
  # MOMENTUM STRATEGIST - Trend Following Focus
  # ===========================================================================
  momentum:
    name: "Strategist Momentum"
    role: "Momentum and trend following specialist"
    agent_type: "trading_strategy"
    approach: "momentum"

    model:
      provider: "deepseek"
      model_id: "deepseek-chat"
      temperature: 0.7  # Higher temp for opportunistic analysis
      max_tokens: 3000

    tools:
      yfinance:
        enabled: true
        include_all: true

    instructions:
      language: "es"
      critical_rules:
        - "⚠️ CRÍTICO: Responde SIEMPRE y ÚNICAMENTE en ESPAÑOL"
        - "⚠️ IMPORTANTE: TODO tu análisis y conclusiones deben estar en ESPAÑOL"

      profile:
        name: "MOMENTUM"
        philosophy: "'The trend is your friend'"
        focus: "Comprar fuerza, vender debilidad"

      analysis_areas:
        strong_trend:
          description: "Múltiples timeframes"
          indicators: ["MA_crossovers", "Trend_strength"]

        acceleration:
          description: "Incremento volumen y precio"
          indicators: ["Volume_surge", "Price_acceleration"]

        catalysts:
          description: "Noticias, earnings, eventos"
          sources: ["News", "Earnings_calendar"]

        sentiment:
          description: "Analistas upgrading"
          indicators: ["Analyst_ratings", "Upgrades"]

        relative_strength:
          description: "vs sector y mercado"
          indicators: ["RS_sector", "RS_market"]

      recommendation_format:
        decision: ["BUY", "SELL", "HOLD"]
        momentum_strength: "1-10 (fuerza momentum)"
        upcoming_catalysts: "Catalizadores próximos"
        entry_timing: "Timing del entry"
        trailing_stop: "Trailing stop level"

      rules:
        - "Solo compras tendencias fuertes confirmadas"
        - "No luchas contra la tendencia"

    output:
      format: "momentum_recommendation"
      include_catalyst_calendar: true

# Strategy convergence analysis
convergence:
  signals:
    strong_buy:
      condition: "All 3 strategists recommend BUY"
      confidence: "HIGH"

    moderate_buy:
      condition: "2/3 strategists recommend BUY"
      confidence: "MODERATE"

    hold:
      condition: "Strategies diverge (no consensus)"
      confidence: "LOW"
      action: "Wait for better setup"

    strong_sell:
      condition: "2+ strategists recommend SELL"
      confidence: "HIGH"

# Metadata
metadata:
  version: "2.0"
  priority: 3  # Third stage in workflow
  estimated_time: "3-4 minutes (parallel)"
  cost_per_run: "$0.0003"
  dependencies: ["market_researcher", "risk_analysts"]
